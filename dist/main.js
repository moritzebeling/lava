(()=>{"use strict";Math.sqrt(3),Math.sqrt(3);const t=1/3,i=1/6,o=(Math.sqrt(5),Math.sqrt(5),t=>0|Math.floor(t)),s=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function e(e=Math.random){const n=function(t){const i=512,o=new Uint8Array(i);for(let t=0;t<256;t++)o[t]=t;for(let i=0;i<255;i++){const s=i+~~(t()*(256-i)),e=o[i];o[i]=o[s],o[s]=e}for(let t=256;t<i;t++)o[t]=o[t-256];return o}(e),a=new Float64Array(n).map((t=>s[t%12*3])),h=new Float64Array(n).map((t=>s[t%12*3+1])),r=new Float64Array(n).map((t=>s[t%12*3+2]));return function(s,e,_){let l,d,c,p;const m=(s+e+_)*t,f=o(s+m),w=o(e+m),u=o(_+m),g=(f+w+u)*i,A=s-(f-g),v=e-(w-g),C=_-(u-g);let q,y,x,F,M,S;A>=v?v>=C?(q=1,y=0,x=0,F=1,M=1,S=0):A>=C?(q=1,y=0,x=0,F=1,M=0,S=1):(q=0,y=0,x=1,F=1,M=0,S=1):v<C?(q=0,y=0,x=1,F=0,M=1,S=1):A<C?(q=0,y=1,x=0,F=0,M=1,S=1):(q=0,y=1,x=0,F=1,M=1,S=0);const b=A-q+i,N=v-y+i,V=C-x+i,z=A-F+2*i,D=v-M+2*i,I=C-S+2*i,L=A-1+3*i,U=v-1+3*i,E=C-1+3*i,j=255&f,k=255&w,B=255&u;let G=.6-A*A-v*v-C*C;if(G<0)l=0;else{const t=j+n[k+n[B]];G*=G,l=G*G*(a[t]*A+h[t]*v+r[t]*C)}let H=.6-b*b-N*N-V*V;if(H<0)d=0;else{const t=j+q+n[k+y+n[B+x]];H*=H,d=H*H*(a[t]*b+h[t]*N+r[t]*V)}let J=.6-z*z-D*D-I*I;if(J<0)c=0;else{const t=j+F+n[k+M+n[B+S]];J*=J,c=J*J*(a[t]*z+h[t]*D+r[t]*I)}let K=.6-L*L-U*U-E*E;if(K<0)p=0;else{const t=j+1+n[k+1+n[B+1]];K*=K,p=K*K*(a[t]*L+h[t]*U+r[t]*E)}return 32*(l+d+c+p)}}let n=document.querySelector("#lava");new class{constructor(t=undefined,i={}){if(!t)return void console.error("LAVA No element found");if("CANVAS"!==t.nodeName.toUpperCase())return void console.error("LAVA Element should be of type CANVAS",t);this._options={width:128,height:128,speed:3,factor:3,shift:.5,color:{r:0,g:0,b:255},...i},this._time=0,this._speed=this._options.speed/1e3,this._simplex=new e,this._canvas=t,this._setCanvasSize(),this._ctx=this._canvas.getContext("2d"),this._imgdata=this._ctx.getImageData(0,0,this._options.width,this._options.height),this._data=this._imgdata.data,this.setColor();let o=this;window.requestAnimationFrame((()=>this._animation(o)))}_setCanvasSize(t=!1,i=!1){this._canvas.width=t||this._options.width,this._canvas.height=i||this._options.height}setColor(t=!1){t=t||this._options.color;for(var i=0;i<this._options.width;i++)for(var o=0;o<this._options.height;o++)this._data[4*(i+o*this._options.width)+0]=t.r||0,this._data[4*(i+o*this._options.width)+1]=t.g||0,this._data[4*(i+o*this._options.width)+2]=t.b||0}_animation(t){for(let i=0;i<t._options.width;i++)for(let o=0;o<t._options.height;o++){let s=t._simplex(i/t._options.width,o/t._options.height,t._time)*t._options.factor+t._options.shift;t._data[4*(i+o*t._options.width)+3]=255*s}t._ctx.putImageData(t._imgdata,0,0),t._time+=t._speed,window.requestAnimationFrame((()=>t._animation(t)))}}(n,{color:{r:255,g:0,b:0}})})();