(()=>{"use strict";const t=.5*(Math.sqrt(3)-1),e=(3-Math.sqrt(3))/6,o=1/6,s=(Math.sqrt(5)-1)/4,i=(5-Math.sqrt(5))/20,n=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),r=new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);class a{constructor(t=Math.random){const e="function"==typeof t?t:function(t){let e=0,o=0,s=0,i=1;const n=function(){let t=4022871197;return function(e){e=e.toString();for(let o=0;o<e.length;o++){t+=e.charCodeAt(o);let s=.02519603282416938*t;t=s>>>0,s-=t,s*=t,t=s>>>0,s-=t,t+=4294967296*s}return 2.3283064365386963e-10*(t>>>0)}}();return e=n(" "),o=n(" "),s=n(" "),e-=n(t),e<0&&(e+=1),o-=n(t),o<0&&(o+=1),s-=n(t),s<0&&(s+=1),function(){const t=2091639*e+2.3283064365386963e-10*i;return e=o,o=s,s=t-(i=0|t)}}(t);this.p=function(t){const e=new Uint8Array(256);for(let t=0;t<256;t++)e[t]=t;for(let o=0;o<255;o++){const s=o+~~(t()*(256-o)),i=e[o];e[o]=e[s],e[s]=i}return e}(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(let t=0;t<512;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}noise2D(o,s){const i=this.permMod12,r=this.perm;let a=0,h=0,l=0;const c=(o+s)*t,f=Math.floor(o+c),m=Math.floor(s+c),p=(f+m)*e,_=o-(f-p),d=s-(m-p);let u,w;_>d?(u=1,w=0):(u=0,w=1);const M=_-u+e,g=d-w+e,A=_-1+2*e,v=d-1+2*e,y=255&f,q=255&m;let C=.5-_*_-d*d;if(C>=0){const t=3*i[y+r[q]];C*=C,a=C*C*(n[t]*_+n[t+1]*d)}let x=.5-M*M-g*g;if(x>=0){const t=3*i[y+u+r[q+w]];x*=x,h=x*x*(n[t]*M+n[t+1]*g)}let D=.5-A*A-v*v;if(D>=0){const t=3*i[y+1+r[q+1]];D*=D,l=D*D*(n[t]*A+n[t+1]*v)}return 70*(a+h+l)}noise3D(t,e,s){const i=this.permMod12,r=this.perm;let a,h,l,c;const f=.3333333333333333*(t+e+s),m=Math.floor(t+f),p=Math.floor(e+f),_=Math.floor(s+f),d=(m+p+_)*o,u=t-(m-d),w=e-(p-d),M=s-(_-d);let g,A,v,y,q,C;u>=w?w>=M?(g=1,A=0,v=0,y=1,q=1,C=0):u>=M?(g=1,A=0,v=0,y=1,q=0,C=1):(g=0,A=0,v=1,y=1,q=0,C=1):w<M?(g=0,A=0,v=1,y=0,q=1,C=1):u<M?(g=0,A=1,v=0,y=0,q=1,C=1):(g=0,A=1,v=0,y=1,q=1,C=0);const x=u-g+o,D=w-A+o,S=M-v+o,F=u-y+2*o,N=w-q+2*o,U=M-C+2*o,V=u-1+.5,b=w-1+.5,z=M-1+.5,I=255&m,L=255&p,E=255&_;let j=.6-u*u-w*w-M*M;if(j<0)a=0;else{const t=3*i[I+r[L+r[E]]];j*=j,a=j*j*(n[t]*u+n[t+1]*w+n[t+2]*M)}let k=.6-x*x-D*D-S*S;if(k<0)h=0;else{const t=3*i[I+g+r[L+A+r[E+v]]];k*=k,h=k*k*(n[t]*x+n[t+1]*D+n[t+2]*S)}let B=.6-F*F-N*N-U*U;if(B<0)l=0;else{const t=3*i[I+y+r[L+q+r[E+C]]];B*=B,l=B*B*(n[t]*F+n[t+1]*N+n[t+2]*U)}let G=.6-V*V-b*b-z*z;if(G<0)c=0;else{const t=3*i[I+1+r[L+1+r[E+1]]];G*=G,c=G*G*(n[t]*V+n[t+1]*b+n[t+2]*z)}return 32*(a+h+l+c)}noise4D(t,e,o,n){const a=this.perm;let h,l,c,f,m;const p=(t+e+o+n)*s,_=Math.floor(t+p),d=Math.floor(e+p),u=Math.floor(o+p),w=Math.floor(n+p),M=(_+d+u+w)*i,g=t-(_-M),A=e-(d-M),v=o-(u-M),y=n-(w-M);let q=0,C=0,x=0,D=0;g>A?q++:C++,g>v?q++:x++,g>y?q++:D++,A>v?C++:x++,A>y?C++:D++,v>y?x++:D++;const S=q>=3?1:0,F=C>=3?1:0,N=x>=3?1:0,U=D>=3?1:0,V=q>=2?1:0,b=C>=2?1:0,z=x>=2?1:0,I=D>=2?1:0,L=q>=1?1:0,E=C>=1?1:0,j=x>=1?1:0,k=D>=1?1:0,B=g-S+i,G=A-F+i,H=v-N+i,J=y-U+i,K=g-V+2*i,O=A-b+2*i,P=v-z+2*i,Q=y-I+2*i,R=g-L+3*i,T=A-E+3*i,W=v-j+3*i,X=y-k+3*i,Y=g-1+4*i,Z=A-1+4*i,$=v-1+4*i,tt=y-1+4*i,et=255&_,ot=255&d,st=255&u,it=255&w;let nt=.6-g*g-A*A-v*v-y*y;if(nt<0)h=0;else{const t=a[et+a[ot+a[st+a[it]]]]%32*4;nt*=nt,h=nt*nt*(r[t]*g+r[t+1]*A+r[t+2]*v+r[t+3]*y)}let rt=.6-B*B-G*G-H*H-J*J;if(rt<0)l=0;else{const t=a[et+S+a[ot+F+a[st+N+a[it+U]]]]%32*4;rt*=rt,l=rt*rt*(r[t]*B+r[t+1]*G+r[t+2]*H+r[t+3]*J)}let at=.6-K*K-O*O-P*P-Q*Q;if(at<0)c=0;else{const t=a[et+V+a[ot+b+a[st+z+a[it+I]]]]%32*4;at*=at,c=at*at*(r[t]*K+r[t+1]*O+r[t+2]*P+r[t+3]*Q)}let ht=.6-R*R-T*T-W*W-X*X;if(ht<0)f=0;else{const t=a[et+L+a[ot+E+a[st+j+a[it+k]]]]%32*4;ht*=ht,f=ht*ht*(r[t]*R+r[t+1]*T+r[t+2]*W+r[t+3]*X)}let lt=.6-Y*Y-Z*Z-$*$-tt*tt;if(lt<0)m=0;else{const t=a[et+1+a[ot+1+a[st+1+a[it+1]]]]%32*4;lt*=lt,m=lt*lt*(r[t]*Y+r[t+1]*Z+r[t+2]*$+r[t+3]*tt)}return 27*(h+l+c+f+m)}}let h=document.querySelector("#lava");new class{constructor(t,e={}){if(!t)return void console.error("LAVA No element found");if("CANVAS"!==t.nodeName.toUpperCase())return void console.error("LAVA Element should be of type CANVAS",t);this._canvas=t,this._options={width:128,height:128,color:{r:0,g:0,b:0},...e},this._setCanvasSize(),this._simplex=new a,this._ctx=this._canvas.getContext("2d"),this._imgdata=this._ctx.getImageData(0,0,this._options.width,this._options.height),this._data=this._imgdata.data,this._time=0;let o=this;window.requestAnimationFrame((()=>this.animation(o))),console.log(this)}_setCanvasSize(t=!1,e=!1){this._canvas.width=t||this._options.width,this._canvas.height=e||this._options.height}animation(t){for(var e=0;e<t._options.width;e++)for(var o=0;o<t._options.height;o++){var s=3*t._simplex.noise3D(e/t._options.width,o/t._options.height,t._time)+.5;t._data[4*(e+o*t._options.width)+3]=255*s}t._time+=.003,t._ctx.putImageData(t._imgdata,0,0),window.requestAnimationFrame((()=>t.animation(t)))}}(h)})();